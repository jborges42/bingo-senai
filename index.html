
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bingo TIC 4√ó4 ‚Äî Vers√£o Linguagem Simples</title>
<style>
  :root {
    --bg: #0b1020;
    --card: #121a32;
    --accent: #4ea1ff;
    --muted: #7f8aa3;
    --ok: #3ad29f;
    --text: #e7ecf7;
  }
  * { box-sizing: border-box; }
  html, body { background: var(--bg); color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin:0; padding:0; }
  .wrap { max-width: 1100px; margin: 28px auto; padding: 0 16px; }
  h1 { margin: 0 0 8px; letter-spacing: 0.2px; }
  .subtitle { color: var(--muted); margin: 0 0 18px; }
  .panel {
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px; padding: 16px; display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  }
  .row { display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
  label { font-size: 14px; color: var(--muted); }
  input[type="text"] {
    background: #0e1530; border: 1px solid rgba(255,255,255,0.12); color: var(--text); padding: 10px 12px; border-radius: 10px; min-width: 220px;
  }
  .btn {
    background: var(--accent); color: #07142a; border: none; border-radius: 12px; padding: 10px 14px; font-weight: 700; cursor: pointer;
    transition: transform .06s ease, box-shadow .2s ease; box-shadow: 0 6px 18px rgba(78,161,255,.35);
  }
  .btn:hover { transform: translateY(-1px); }
  .btn.secondary { background: #233359; color: #e9f1ff; box-shadow: none; }
  .btn.ghost { background: transparent; border: 1px solid rgba(255,255,255,.15); color: var(--text); }
  .grid {
    margin-top: 18px;
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;
  }
  .cell {
    background: var(--card);
    border: 1px solid rgba(255,255,255,0.12);
    border-radius: 16px;
    min-height: 120px; padding: 12px;
    display: grid; grid-template-rows: auto 1fr auto;
    cursor: pointer; user-select: none;
    transition: transform .05s ease, border-color .1s ease, box-shadow .2s ease, background .2s ease;
  }
  .cell:hover { transform: translateY(-2px); }
  .cell .cat { font-size: 12px; color: var(--muted); letter-spacing: .4px; text-transform: uppercase; }
  .cell .txt { font-size: 15px; margin-top: 6px; line-height: 1.3; }
  .cell .foot { margin-top: 10px; font-size: 12px; color: #a8b7d6; display: flex; justify-content: space-between; align-items: center; gap:8px; }
  .chip { font-size: 11px; padding: 2px 6px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.14); color: #b9c7e3;}
  .cell.marked { outline: 2px solid var(--ok); border-color: var(--ok); background: #122737; box-shadow: 0 10px 25px rgba(58,210,159,.15); }
  .bars {
    display: grid; grid-template-columns: repeat(auto-fill, minmax(190px, 1fr)); gap: 8px; align-items: center;
    max-height: 168px; overflow: auto; padding-right: 4px;
  }
  .bar {
    height: 40px; background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.12); border-radius: 12px; display: grid; grid-template-columns: 136px 1fr; overflow: hidden;
  }
  .bar span.label { padding: 0 10px; font-size: 12px; color: var(--muted); display: flex; align-items: center; }
  .bar .track { position: relative; border-left: 1px solid rgba(255,255,255,.08); }
  .bar .fill { position: absolute; left:0; top:0; bottom:0; width:0; background: linear-gradient(90deg, var(--accent), var(--ok)); transition: width .3s ease; }
  .note { color: var(--muted); font-size: 13px; margin-top: 10px; }
  .footer { margin-top: 18px; display: grid; gap: 10px; }
  .status {
    background: #0e1530; border: 1px dashed rgba(255,255,255,0.18); border-radius: 12px; padding: 10px 12px; font-size: 14px;
  }
  .toast {
    position: fixed; right: 16px; bottom: 16px; background: #0e1530; color: var(--text);
    border: 1px solid rgba(255,255,255,.12); border-radius: 12px; padding: 10px 14px; display:none;
    box-shadow: 0 10px 25px rgba(0,0,0,.3);
  }
  .confetti { pointer-events: none; position: fixed; inset: 0; overflow: hidden; z-index: 99; }
  @media (max-width: 720px) {
    .grid { grid-template-columns: repeat(2, 1fr); }
    .cell { min-height: 110px; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <h1>üéØ Bingo TIC 4√ó4 ‚Äî Linguagem Simples</h1>
    <p class="subtitle">Marque o que voc√™ <b>j√° sabe</b>. Feche uma linha, coluna ou diagonal para dar <b>BINGO!</b></p>

    <div class="panel">
      <div class="row">
        <label for="nome">Seu nome:</label>
        <input id="nome" type="text" placeholder="Digite seu nome" />
        <button class="btn secondary" id="novo">Nova cartela</button>
        <button class="btn" id="copiar">Copiar resultado</button>
        <button class="btn ghost" id="modo">Modo ajuda de colega</button>
      </div>
      <div class="row">
        <span class="status" id="status">Marcadas: <b id="count">0</b>/16 ‚Ä¢ Linhas completas: <b id="lines">0</b></span>
      </div>
    </div>

    <div class="grid" id="grid"></div>

    <div class="footer">
      <div class="bars" id="bars"></div>
      <span class="note">As barras mostram seu avan√ßo por tema. No ‚ÄúModo ajuda de colega‚Äù, voc√™ pode escrever o nome de quem te ensinou.</span>
    </div>
  </div>

  <canvas class="confetti" id="confetti"></canvas>
  <div class="toast" id="toast">Copiado para a √°rea de transfer√™ncia ‚úÖ</div>

<script>
  // ---- CONFIG ----
  const ROWS = 4, COLS = 4;

  // ---- POOL com linguagem simples (4 perguntas por tema) ----
  const POOL = {
    equipe: [
      "Voc√™ j√° ajudou a turma a chegar num acordo? (consenso)",
      "Voc√™ sabe conversar para resolver briga de ideias? (conflito)",
      "Voc√™ sabe combinar quem faz o qu√™ na equipe?",
      "Voc√™ j√° usou um quadro de tarefas (Trello/Planner)?"
    ],
    comunicacao: [
      "Voc√™ sabe reconhecer texto t√©cnico?",
      "Voc√™ j√° escreveu um relat√≥rio simples?",
      "Voc√™ j√° fez uma ata de reuni√£o?",
      "Voc√™ sabe escrever um memorando ou um resumo?"
    ],
    apresentacoes: [
      "Voc√™ sabe escolher tema e fonte para os slides?",
      "Voc√™ sabe colocar imagens/figuras no slide?",
      "Voc√™ sabe inserir tabela ou gr√°fico no slide?",
      "Voc√™ sabe salvar a apresenta√ß√£o em PDF ou v√≠deo?"
    ],
    planilhas: [
      "Voc√™ sabe o que √© A1, B2 (linha/coluna/c√©lula)?",
      "Voc√™ sabe formatar n√∫mero como R$, data ou %?",
      "Voc√™ sabe usar SOMA, M√âDIA ou SE?",
      "Voc√™ sabe filtrar, ordenar e fazer gr√°fico?"
    ],
    elementos_comunicacao: [
      "Voc√™ sabe quem √© emissor e receptor?",
      "Voc√™ sabe o que √© mensagem e canal?",
      "Voc√™ sabe o que √© ru√≠do na comunica√ß√£o?",
      "Voc√™ sabe dar e receber feedback?"
    ],
    informatica: [
      "Voc√™ sabe o que s√£o CPU e RAM?",
      "Voc√™ sabe dizer qual √© o processador do seu PC?",
      "Voc√™ sabe a diferen√ßa entre SSD e HD?",
      "Voc√™ sabe o que √© perif√©rico (entrada/sa√≠da)?"
    ],
    internet: [
      "Voc√™ sabe mexer no navegador (Chrome/Firefox)?",
      "Voc√™ sabe procurar no Google usando aspas?",
      "Voc√™ sabe baixar arquivo e achar na pasta Downloads?",
      "Voc√™ usa nuvem (Drive/OneDrive) para guardar/compartilhar?"
    ],
    niveis_fala: [
      "Voc√™ sabe falar de forma formal quando precisa?",
      "Voc√™ sabe o que √© linguagem t√©cnica?",
      "Voc√™ sabe o que √© jarg√£o?",
      "Voc√™ consegue ajustar a fala para cada p√∫blico?"
    ],
    seguranca: [
      "Voc√™ sabe os pilares de seguran√ßa (CID)?",
      "Voc√™ usa senhas fortes e 2 etapas (2FA)?",
      "Voc√™ sabe o que √© um e-mail de fishing?",
      "Voc√™ j√° fez backup e sabe o que √© v√≠rus (malware)?"
    ],
    sistema_operacional: [
      "Voc√™ organiza arquivos em pastas?",
      "Voc√™ sabe buscar arquivos pelo nome?",
      "Voc√™ sabe configurar impressora ou webcam?",
      "Voc√™ sabe zipar e deszipar arquivos (.zip)?"
    ],
    editor_textos: [
      "Voc√™ sabe arrumar t√≠tulo, par√°grafo e espa√ßamento?",
      "Voc√™ sabe inserir imagem e tabela no texto?",
      "Voc√™ usa corretor ortogr√°fico?",
      "Voc√™ sabe salvar em PDF?"
    ],
    textos_tecnicos: [
      "Voc√™ sabe o que √© um texto t√©cnico?",
      "Voc√™ conhece normas (ex.: ABNT) para citar fontes?",
      "Voc√™ consegue entender um manual simples?",
      "Voc√™ sabe fazer um resumo t√©cnico?"
    ]
  };

  const TITLES = {
    equipe: "Trabalho em Equipe",
    comunicacao: "Comunica√ß√£o",
    apresentacoes: "Apresenta√ß√µes",
    planilhas: "Planilhas",
    elementos_comunicacao: "Elementos da Comunica√ß√£o",
    informatica: "Inform√°tica (PC)",
    internet: "Internet & Nuvem",
    niveis_fala: "N√≠veis de Fala",
    seguranca: "Seguran√ßa",
    sistema_operacional: "Sistema Operacional",
    editor_textos: "Editor de Textos",
    textos_tecnicos: "Textos T√©cnicos"
  };

  // ---- ESTADO ----
  const gridEl = document.getElementById("grid");
  const linesEl = document.getElementById("lines");
  const countEl = document.getElementById("count");
  const barsEl = document.getElementById("bars");
  const toast = document.getElementById("toast");
  const confettiCanvas = document.getElementById("confetti");
  const ctx = confettiCanvas.getContext("2d");
  let cells = []; // {cat, txt, marked, alias}
  let helpMode = false;

  // ---- UTIL ----
  function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j = Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }
  function pickRandom(cat, n){ const pool = [...POOL[cat]]; shuffle(pool); return pool.slice(0,n).map(txt => ({cat, txt})); }

  // ---- GERA CARTELA 4√ó4 ----
  function generateCard(){
    const cats = Object.keys(POOL);
    const base = [];
    // pelo menos 1 de cada (12), completar at√© 16 com extras
    cats.forEach(cat => base.push(...pickRandom(cat,1)));
    const restPool = [];
    cats.forEach(c => restPool.push(...POOL[c].map(txt => ({cat:c, txt}))));
    shuffle(restPool);
    const extras = [];
    for(const item of restPool){
      const exists = base.find(b => b.txt === item.txt);
      if(!exists) extras.push(item);
      if(base.length + extras.length === ROWS * COLS) break;
    }
    const all = shuffle([...base, ...extras]).slice(0, ROWS * COLS);
    cells = all.map((it) => ({...it, marked:false, alias:""}));
    render();
  }

  // ---- BARRAS ----
  function renderBars(){
    barsEl.innerHTML = "";
    const cats = Object.keys(POOL);
    for(const cat of cats){
      const wrap = document.createElement("div");
      wrap.className = "bar";
      wrap.innerHTML = `<span class="label">${TITLES[cat]}</span><div class="track"><div class="fill" id="bar-${cat}"></div></div>`;
      barsEl.appendChild(wrap);
    }
  }
  function updateBars(){
    const counts = {}; const totals = {};
    for(const k of Object.keys(POOL)){ counts[k]=0; totals[k]=0; }
    for(const c of cells){ totals[c.cat]++; if(c.marked) counts[c.cat]++; }
    for(const k of Object.keys(POOL)){
      const pct = totals[k] ? Math.round((counts[k]/totals[k])*100) : 0;
      const el = document.getElementById(`bar-${k}`);
      if(el) el.style.width = pct + "%";
    }
    countEl.textContent = cells.filter(c=>c.marked).length;
  }

  // ---- RENDER ----
  function render(){
    gridEl.innerHTML = "";
    cells.forEach((c, idx) => {
      const d = document.createElement("div");
      d.className = "cell" + (c.marked ? " marked" : "");
      d.innerHTML = `
        <div class="cat">${TITLES[c.cat]}</div>
        <div class="txt">${c.txt}</div>
        <div class="foot">
          <span class="chip">${c.marked ? "‚úÖ marcado" : helpMode ? "üë§ quem ajudou: " + (c.alias||"‚Äî") : "Clique para marcar"}</span>
          ${helpMode ? `<input data-i="${idx}" type="text" placeholder="Nome do colega" style="background:#0b1430;border:1px solid rgba(255,255,255,.12);color:#d9e6ff;border-radius:8px;padding:4px 6px;width:130px;font-size:12px;">` : ""}
        </div>
      `;
      d.addEventListener("click", (e) => {
        if(helpMode && e.target && e.target.tagName === "INPUT") return;
        c.marked = !c.marked; render(); checkBingo(); updateBars();
      });
      if(helpMode){
        setTimeout(() => {
          const inp = d.querySelector("input");
          if(inp){
            inp.value = c.alias || "";
            inp.addEventListener("input", (ev)=> { c.alias = ev.target.value; });
          }
        }, 0);
      }
      gridEl.appendChild(d);
    });
    updateBars();
    checkBingo(true);
  }

  // ---- BINGO ----
  function checkBingo(silent=false){
    const m = cells.map(c=>c.marked);
    const lines = [];
    for(let r=0;r<ROWS;r++){ lines.push(Array.from({length:COLS}, (_,i)=> r*COLS + i)); }
    for(let c=0;c<COLS;c++){ lines.push(Array.from({length:ROWS}, (_,i)=> i*COLS + c)); }
    lines.push(Array.from({length:ROWS}, (_,i)=> i*COLS + i));
    lines.push(Array.from({length:ROWS}, (_,i)=> i*COLS + (COLS-1-i)));
    let done = 0;
    for(const L of lines){ if(L.every(i => m[i])) done++; }
    document.getElementById("lines").textContent = done;
    if(!silent && done>0){ launchConfetti(); }
  }

  // ---- RESUMO ----
  function copySummary(){
    const nome = document.getElementById("nome").value || "Aluno(a)";
    const marked = cells.map((c)=> c.marked ? `- [${TITLES[c.cat]}] ${c.txt}${c.alias?` (ajudou: ${c.alias})`:""}` : null).filter(Boolean).join("\\n");
    const counts = {}; for(const k of Object.keys(POOL)) counts[k]=0;
    cells.forEach(c=>{ if(c.marked) counts[c.cat]++; });
    const perfil = Object.keys(POOL).map(k => `${TITLES[k]} ${counts[k]}`).join(", ");
    const text = `${nome} ‚Äî Bingo TIC 4√ó4 (Linguagem simples)
Marcadas: ${cells.filter(c=>c.marked).length}/${ROWS*COLS} | Linhas completas: ${document.getElementById("lines").textContent}
Perfil por tema: ${perfil}

Itens marcados:
${marked || "(nenhum marcado ainda)"}
`;
    navigator.clipboard.writeText(text).then(()=>{
      toast.style.display = "block";
      setTimeout(()=> toast.style.display="none", 1800);
    });
  }

  // ---- CONFETTI ----
  function resizeCanvas(){ confettiCanvas.width = window.innerWidth; confettiCanvas.height = window.innerHeight; }
  window.addEventListener("resize", resizeCanvas); resizeCanvas();
  let particles = [];
  function launchConfetti(){
    particles = [];
    const colors = ["#4ea1ff","#3ad29f","#ffc857","#ff6b6b","#a78bfa"];
    for(let i=0;i<160;i++){
      particles.push({ x: confettiCanvas.width/2, y: 0, vx: (Math.random()*6-3), vy: (Math.random()*-2-6),
        g: 0.15, size: Math.random()*5+3, color: colors[(Math.random()*colors.length)|0], life: 0, maxLife: 160+Math.random()*60 });
    }
    animate();
  }
  function animate(){
    const ctx2 = confettiCanvas.getContext("2d");
    ctx2.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    particles.forEach(p => { p.vy += p.g; p.x += p.vx; p.y += p.vy; p.life++; ctx2.fillStyle = p.color; ctx2.fillRect(p.x, p.y, p.size, p.size); });
    particles = particles.filter(p => p.life < p.maxLife && p.y < confettiCanvas.height+20);
    if(particles.length) requestAnimationFrame(animate);
  }

  // ---- EVENTOS ----
  document.getElementById("novo").addEventListener("click", generateCard);
  document.getElementById("copiar").addEventListener("click", copySummary);
  document.getElementById("modo").addEventListener("click", (e) => {
    helpMode = !helpMode;
    e.target.textContent = helpMode ? "Voltar ao modo normal" : "Modo ajuda de colega";
    render();
  });

  // ---- IN√çCIO ----
  renderBars();
  generateCard();
</script>
</body>
</html>
